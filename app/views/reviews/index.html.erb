<% content_for(:title, t('.title')) %>

<div class="flex justify-between items-center mb-6">
  <h1 class="text-3xl font-bold">
    <i class="fa-solid fa-comments"></i>  <%= t('.title') %>
  </h1>
  <%= link_to new_review_path, class: "btn btn-primary flex items-center gap-2" do %>
    <i class="fa-solid fa-circle-plus"></i>
    <span>マイ香水の紹介を書く</span>
  <% end %>
</div>

<%= render "search_form", q: @q %>

<% if @reviews.any? %>
  <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    <%= render partial: "review", collection: @reviews %>
  </ul>
<% else %>
  <div class="flex justify-center items-center w-full py-10">
    <% if params[:q].present? && params[:q].values.any?(&:present?) %>
      <!-- 検索を行ったが結果が0件の場合 -->
      <div class="text-center">
        <i class="fa-solid fa-magnifying-glass text-4xl text-gray-400 mb-4"></i>
        <p class="text-gray-600 text-xl font-bold mb-2">検索結果が見つかりませんでした</p>
        <p class="text-gray-500">別のキーワードで検索してみてください</p>
      </div>
    <% else %>
      <!-- まだレビューが投稿されていない場合 -->
      <div class="text-center">
        <i class="fa-solid fa-comments text-4xl text-gray-400 mb-4"></i>
        <p class="text-gray-600 text-xl font-bold mb-2">まだレビューがありません</p>
        <p class="text-gray-500">最初のレビューを投稿してみませんか？</p>
        <%= link_to new_review_path, class: "btn btn-primary mt-4" do %>
          <i class="fa-solid fa-circle-plus"></i>
          <span>レビューを書く</span>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>

<%= paginate @reviews %>