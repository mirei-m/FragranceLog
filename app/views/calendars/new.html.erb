<% content_for(:title, t('.title')) %>
<h1><%= t('.title') %></h1>


<%= form_with model: @calendar, local: true do |f| %>
  <% if @calendar.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4">
      <ul>
        <% @calendar.errors.full_messages.each do |message| %>
          <li>ãƒ»<%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <!-- æ—¥ä»˜ -->
  <div class="mb-4">
    <%= f.label :start_time, class: "block font-semibold mb-1" %>
    <%= f.date_select :start_time, class: "w-full border rounded p-2" %>
  </div>

  <!-- é¦™æ°´ -->
  <div class="mb-4">
    <%= f.label :fragrance_id, class: "block font-semibold mb-1" %>
    <%= f.collection_select :fragrance_id, current_user.fragrances, :id, :name, { prompt: "é¸æŠžã—ã¦ãã ã•ã„" }, class: "w-full border rounded p-2" %>
  </div>

  <!-- å¤©æ°— -->
  <div class="mb-4">
    <%= f.label :weather, class: "block font-semibold mb-1" %>
    <div class="flex gap-4">
      <% Calendar.weathers.each do |key, _value| %>
        <label class="flex items-center gap-1">
          <%= f.radio_button :weather, key %>
          <%# çµµæ–‡å­—ã§ãƒ©ãƒ™ãƒ«è¡¨ç¤º %>
          <%= {
            sunny: "â˜€ï¸",
            cloudy: "â˜ï¸",
            rainy: "â˜”ï¸",
            snowy: "â„ï¸"
          }[key.to_sym] %>
        </label>
      <% end %>
    </div>
  </div>

  <!-- æ°—åˆ† -->
  <div class="mb-4">
    <%= f.label :mood, class: "block font-semibold mb-1" %>
    <div class="flex flex-wrap gap-4">
      <% Calendar.moods.each do |key, _value| %>
        <label class="flex items-center gap-1">
          <%= f.radio_button :mood, key %>
          <%= {
            happy: "ðŸ˜Š",
            relaxed: "ðŸ˜Œ",
            neutral: "ðŸ˜",
            sad: "ðŸ˜¢",
            angry: "ðŸ˜ ",
            tired: "ðŸ˜´"
          }[key.to_sym] %>
        </label>
      <% end %>
    </div>
  </div>

  <!-- ãƒ¡ãƒ¢ -->
  <div class="mb-4">
    <%= f.label :memo, class: "block font-semibold mb-1" %>
    <%= f.text_area :memo, maxlength: 1000, rows: 3, class: "w-full border rounded p-2" %>
    <p class="text-sm text-gray-500">â€»1000æ–‡å­—ä»¥å†…</p>
  </div>

  <!-- ãƒœã‚¿ãƒ³ -->
  <div class="flex justify-end">
    <%= f.submit class: "btn btn-primary" %>
  </div>
<% end %>